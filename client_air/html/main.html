<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
    <script type="text/javascript" src="/lib/air/AIRIntrospector.js"></script>

    <script src="/swf/applicationupdater_ui.swf" type="application/x-shockwave-flash"/>
    <script>
        // instantiate an updater object
        var appUpdater = new runtime.air.update.ApplicationUpdaterUI();

        function checkUpdate() {
            // we set the URL for the update.xml file
            appUpdater.updateURL = "http://127.0.0.1:8000/static/client_air/updater/update.xml";
            //we set the event handlers for INITIALIZED nad ERROR
            appUpdater.addEventListener(runtime.air.update.events.UpdateEvent.INITIALIZED, onUpdate);
            appUpdater.addEventListener(runtime.flash.events.ErrorEvent.ERROR, onError);
            //we can hide the dialog asking for permission for checking for a new update;
            //if you want to see it just leave the default value (or set true).
            appUpdater.isCheckForUpdateVisible = false;
            //if isFileUpdateVisible is set to true, File Update, File No Update,
            //and File Error dialog boxes will be displayed
            // appUpdater.isFileUpdateVisible = false;
            //if isInstallUpdateVisible is set to true, the dialog box for installing the update is visible
            // appUpdater.isInstallUpdateVisible = false;
            //we initialize the updater
            appUpdater.initialize();
        }

    function onUpdate(event) {
        //starts the update process
        appUpdater.checkNow();
    }

    function onError(event) {
       alert(event);
    }
    </script>
</head>
<body onload="checkUpdate()">
    <iframe id="sandbox"
           src="/html/app.html"
           sandboxRoot="http://www.127.0.0.1:8000/"
           documentRoot="app:/"
           allowCrossDomainXHR="true" 
           style="width:100%;height:100%;border:0"
           frameborder="0"
    </iframe>
</body>
</html>